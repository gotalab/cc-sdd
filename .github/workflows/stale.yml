name: Auto Close Stale Issues

on:
  schedule:
    # Run every day at 00:00 UTC
    - cron: '0 0 * * *'
  workflow_dispatch: # Allow manual execution

permissions:
  issues: write
  pull-requests: write

jobs:
  stale:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/stale@v9
        with:
          # Number of days of inactivity before marking as stale
          days-before-stale: 10
          # Number of days after the stale label before closing
          days-before-close: 7

          # Comment posted when applying the stale label
          stale-issue-message: |
            This issue has been labeled as "stale" due to no activity for 10 days.
            It will be closed automatically in 7 days if there is no response.

          # Comment posted when closing the issue
          close-issue-message: |
            This issue has been closed due to inactivity.
            If the problem persists, please reopen this issue or create a new one.

          # Labels that will be applied
          stale-issue-label: 'stale'
          stale-pr-label: 'stale'

          # Labels that exempt issues from being marked as stale
          exempt-issue-labels: 'pinned,security,help-wanted'

          # To disable stale processing for PRs, uncomment the following lines
          # days-before-pr-stale: -1
          # days-before-pr-close: -1
