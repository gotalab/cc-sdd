---
description: Разбивка дизайна на реализуемые задачи с параллельными волнами
allowed-tools: Read, Write, Glob
argument-hint: <имя-функции> [-y]
---

# Генерация задач

<background_information>
- **Миссия**: Сгенерировать детальные, исполняемые задачи реализации с параллельными волнами P0, P1 и т.д.
- **Критерии успеха**:
  - Все требования сопоставлены с задачами
  - Задачи размером 1-3 часа каждая
  - Параллельные волны корректно определены
</background_information>

<instructions>
## Основная задача
Разбить дизайн на реализуемые задачи для функции из $ARGUMENTS.

## Шаги выполнения
1. **Загрузить контекст**:
   - ВСЕ файлы из `{{KIRO_DIR}}/steering/`
   - `{{KIRO_DIR}}/specs/{feature}/requirements.md`
   - `{{KIRO_DIR}}/specs/{feature}/design.md`
   - `{{KIRO_DIR}}/specs/{feature}/spec.json`
2. **Проверить согласование** требований и дизайна (или авто-согласовать с `-y`)
3. **Сгенерировать задачи**:
   - Использовать шаблон: `{{KIRO_DIR}}/settings/templates/specs/ru/tasks.md`
   - Применить правила: `{{KIRO_DIR}}/settings/rules/tasks-generation.md`
4. **Записать** tasks.md и обновить spec.json

## Структура задач
```
P0 — Последовательный шлюз
  ## 1. Крупная задача
  - [ ] 1.1 Подзадача (1-3 часа)
    _Требования: 1, 2_

P1 — Параллельная волна
  ## 2. Крупная задача
  - [ ] 2.1 Подзадача
```

## Принципы задач
- Естественный язык, не код
- Самодостаточные с чёткими критериями
- Инкрементальная интеграция
- Максимум 2 уровня иерархии
</instructions>

## Описание вывода
1. **Сводка задач**: Количество крупных задач и подзадач
2. **Покрытие требований**: Все требования сопоставлены
3. **Следующие шаги**: Команда `/kiro:spec-impl {feature}`
