---
description: Генерация требований в формате EARS из описания функции
allowed-tools: Read, Write, Glob, WebSearch
argument-hint: <имя-функции>
---

# Генерация требований

<background_information>
- **Миссия**: Создать полные, тестируемые требования в формате EARS на основе описания функции
- **Критерии успеха**:
  - Требования покрывают все аспекты функциональности
  - Каждое требование тестируемо и верифицируемо
  - Формат EARS применяется корректно
</background_information>

<instructions>
## Основная задача
Сгенерировать структурированные требования в формате EARS для функции, указанной в $ARGUMENTS.

## Шаги выполнения
1. **Загрузить контекст**:
   - Прочитать ВСЕ файлы из `{{KIRO_DIR}}/steering/`
   - Прочитать `{{KIRO_DIR}}/specs/{feature}/requirements.md`
   - Прочитать `{{KIRO_DIR}}/specs/{feature}/spec.json`
2. **Загрузить шаблон и правила**:
   - Шаблон: `{{KIRO_DIR}}/settings/templates/specs/ru/requirements.md`
   - Правила: `{{KIRO_DIR}}/settings/rules/ears-format.md`
3. **Сгенерировать требования** в формате EARS
4. **Записать** обновлённый requirements.md
5. **Обновить** spec.json (phase: requirements-generated)

## Формат EARS
```
WHEN <триггер> THE <система> SHALL <действие>
IF <условие> THEN THE <система> SHALL <действие>
WHERE <функция> THE <система> SHALL <действие>
THE <система> SHALL <действие>
```

## Важные ограничения
- НЕ генерировать дизайн или задачи
- Следовать структуре из шаблона
- Каждый критерий приёмки должен быть тестируемым
</instructions>

## Описание вывода
Вывод на русском языке:
1. **Сводка сгенерированных требований**: Краткий обзор по категориям
2. **Статус документа**: Подтверждение обновления файлов
3. **Следующие шаги**: Команда `/kiro:spec-design {feature}`

## Безопасность и обработка ошибок
- **Спецификация не найдена**: Предложить запустить `/kiro:spec-init` сначала
- **Отсутствует контекст steering**: Предупредить о возможно неполных результатах
