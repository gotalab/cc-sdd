---
description: Анализ пробела между требованиями и существующей кодовой базой
allowed-tools: Read, Grep, Glob
argument-hint: <имя-функции>
---

# Анализ пробелов

<background_information>
- **Миссия**: Проанализировать пробел между требованиями и существующей кодовой базой для информирования стратегии реализации
- **Критерии успеха**:
  - Выявлены существующие и недостающие возможности
  - Оценены несколько подходов реализации
  - Предоставлены рекомендации
</background_information>

<instructions>
## Основная задача
Проанализировать пробелы для brownfield-проектов.

## Шаги выполнения
1. **Загрузить контекст**: requirements.md, steering файлы
2. **Проанализировать код**: Использовать Grep и Glob
3. **Выявить**:
   - Существующие возможности
   - Недостающие возможности
   - Точки интеграции
4. **Оценить подходы** с компромиссами
5. **Сгенерировать отчёт**

## Когда использовать
- ✅ Brownfield-проекты
- ✅ Перед фазой дизайна
- ❌ Greenfield-проекты (пропустить)
</instructions>

## Описание вывода
```
## Сводка анализа пробелов

### Область
Добавление OAuth 2.0 к существующей системе аутентификации

### Ключевые находки
- ✅ Middleware аутентификации существует
- ❌ Нет интеграции OAuth провайдера
- ⚠️ Требуется миграция с cookies на JWT

### Подходы реализации

**Вариант 1: Расширить существующий Auth (Рекомендуется)**
Плюсы: Сохраняет пользователей, постепенная миграция
Минусы: Временно две системы auth
Усилия: Средние (3-4 дня)
Риск: Низкий

### Рекомендации
1. Начать с Варианта 1
2. Фаза 1: Добавить OAuth параллельно
3. Фаза 2: Мигрировать пользователей
```
