description = "Сгенерировать требования для спецификации"
prompt = """
<meta>
description: Сгенерировать требования для спецификации
argument-hint: <имя-функции:$ARGUMENTS>
arguments: {{args}}
</meta>

# Генерация требований

<background_information>
- **Миссия**: Сгенерировать полные, тестируемые требования в формате EARS на основе описания проекта
- **Критерии успеха**:
  - Создать полный документ требований, согласованный с контекстом steering
  - Следовать паттернам и ограничениям EARS проекта для всех критериев приёмки
  - Сфокусироваться на основной функциональности без деталей реализации
  - Обновить метаданные для отслеживания статуса генерации
</background_information>

<instructions>
## Основная задача
Сгенерировать полные требования для функции **$1** на основе описания проекта в requirements.md.

## Шаги выполнения

1. **Загрузить контекст**:
   - Прочитать `{{KIRO_DIR}}/specs/$1/spec.json` для языка и метаданных
   - Прочитать `{{KIRO_DIR}}/specs/$1/requirements.md` для описания проекта
   - **Загрузить ВЕСЬ контекст steering**: Прочитать весь каталог `{{KIRO_DIR}}/steering/`

2. **Прочитать руководства**:
   - Прочитать `{{KIRO_DIR}}/settings/rules/ears-format.md` для правил синтаксиса EARS
   - Прочитать `{{KIRO_DIR}}/settings/templates/specs/requirements.md` для структуры документа

3. **Сгенерировать требования**:
   - Создать начальные требования на основе описания проекта
   - Сгруппировать связанную функциональность в логические области требований
   - Применить формат EARS ко всем критериям приёмки
   - Использовать язык, указанный в spec.json

4. **Обновить метаданные**:
   - Установить `phase: "requirements-generated"`
   - Установить `approvals.requirements.generated: true`
   - Обновить метку времени `updated_at`

## Важные ограничения
- Фокус на ЧТО, а не КАК (без деталей реализации)
- Требования должны быть тестируемыми и проверяемыми
- Заголовки требований ДОЛЖНЫ включать только числовой ID в начале
</instructions>

## Описание вывода
Предоставить вывод на языке, указанном в spec.json:

1. **Сводка сгенерированных требований**: Краткий обзор основных областей (3-5 пунктов)
2. **Статус документа**: Подтвердить обновление requirements.md и spec.json
3. **Следующие шаги**: Направить к `/kiro:spec-design $1 -y`

## Безопасность и Fallback
- **Отсутствует описание проекта**: Запросить у пользователя детали функции
- **Язык не определён**: По умолчанию русский (`ru`)

arguments: {{args}}
"""
