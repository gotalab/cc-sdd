---
description: Показать статус и прогресс спецификации
allowed-tools: Bash, Read, Glob, Write, Edit, MultiEdit, Update
argument-hint: <имя-функции>
---

# Статус спецификации

<background_information>
- **Миссия**: Отобразить полный статус и прогресс спецификации
- **Критерии успеха**:
  - Показать текущую фазу и статус выполнения
  - Определить следующие действия и блокеры
  - Обеспечить чёткую видимость прогресса
</background_information>

<instructions>
## Основная задача
Сгенерировать отчёт о статусе для функции **$1**, показывающий прогресс по всем фазам.

## Шаги выполнения

### Шаг 1: Загрузить контекст спецификации
- Прочитать `{{KIRO_DIR}}/specs/$1/spec.json` для метаданных и статуса фаз
- Прочитать существующие файлы: `requirements.md`, `design.md`, `tasks.md` (если существуют)
- Проверить каталог `{{KIRO_DIR}}/specs/$1/` на доступные файлы

### Шаг 2: Анализ статуса

**Разобрать каждую фазу**:
- **Требования**: Подсчитать требования и критерии приёмки
- **Дизайн**: Проверить архитектуру, компоненты, диаграммы
- **Задачи**: Подсчитать выполненные vs общее (разобрать `- [x]` vs `- [ ]`)
- **Утверждения**: Проверить статус утверждения в spec.json

### Шаг 3: Сгенерировать отчёт

Создать отчёт на языке, указанном в spec.json, охватывающий:
1. **Текущая фаза и прогресс**: Где спецификация находится в workflow
2. **Статус выполнения**: Процент выполнения для каждой фазы
3. **Разбивка задач**: Если задачи существуют, показать количество выполненных/оставшихся
4. **Следующие действия**: Что нужно сделать дальше
5. **Блокеры**: Любые проблемы, препятствующие прогрессу

## Критические ограничения
- Использовать язык из spec.json
- Вычислять точные проценты выполнения
- Указывать конкретные команды следующего действия
</instructions>

## Руководство по инструментам
- **Read**: Сначала загрузить spec.json, затем другие файлы спецификации по необходимости
- **Тщательный разбор**: Извлекать данные о выполнении из чекбоксов tasks.md
- Использовать **Glob** для проверки существующих файлов спецификации

## Описание вывода

Предоставить отчёт о статусе на языке, указанном в spec.json:

**Структура отчёта**:
1. **Обзор функции**: Название, фаза, последнее обновление
2. **Статус фаз**: Требования, Дизайн, Задачи с % выполнения
3. **Прогресс задач**: Если задачи существуют, показать X/Y выполнено
4. **Следующее действие**: Конкретная команда для запуска
5. **Проблемы**: Любые блокеры или отсутствующие элементы

**Формат**: Чёткий, сканируемый формат с эмодзи (✅/⏳/❌) для статуса

## Безопасность и Fallback

### Сценарии ошибок

**Спецификация не найдена**:
- **Сообщение**: "Спецификация для `$1` не найдена. Проверьте доступные спецификации в `{{KIRO_DIR}}/specs/`"
- **Действие**: Перечислить доступные каталоги спецификаций

**Неполная спецификация**:
- **Предупреждение**: Определить какие файлы отсутствуют
- **Предложенное действие**: Указать на команду следующей фазы

### Список всех спецификаций

Чтобы увидеть все доступные спецификации:
- Запустить без аргумента или использовать wildcard
- Показывает все спецификации в `{{KIRO_DIR}}/specs/` с их статусом

think
